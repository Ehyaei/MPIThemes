---
title: "ggplot2 themes"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(MPIThemes)
library(ggplot2)
if (!require("dplyr")) install.packages("dplyr")
library(dplyr)
```


This package includes several ggplot themes and palettes for creating plots with
MPI custom design.

## Color Palette

This palette was inspired by the CD manual (available \href{https://docplayer.org/2328711-Max-planck-institut-das-erscheinungsbild-der-max-planck-gesellschaft-4-ueberarbeitete-auflage.html}{here} )
of the Max Planck Society.

Max-Planck institute has a standard style for document design. You can find CD manual 
\href{https://docplayer.org/2328711-Max-planck-institut-das-erscheinungsbild-der-max-planck-gesellschaft-4-ueberarbeitete-auflage.html}{here}. The two main colors in this document are green (Pantone 328) and gray (Pantone 427).
The Pantone color system is a standardized color matching system, which is widely used. 
Below we can see traditional two main colors in Max-Planck society.

```{r}
scales::show_col(c("#116656","#DDDED6"))
```

To find a color palette,  Some colors are chosen from the Pantone list that is different from the two main colors.  Color selection is a process in progress.

```{r}
scales::show_col(palette_mpi(),ncol = 4)
```

## Theme


```{r,echo=FALSE,out.width="100%"}
library(ggplot2)
library(dplyr)
scatter_plot <-
  ggplot(iris, aes(x=jitter(Sepal.Width),
                   y=jitter(Sepal.Length),
                   col=Species)) +
  geom_point() +
  labs(x = "Sepal Width (cm)",
       y = "Sepal Length (cm)",
       col = "Species",
       title = "Sepal Width vs Length")+
  theme_scientific(6)+
  scale_color_mpi()

bar_plot <-
  iris %>%
  group_by(Species) %>%
  summarise(Sepal.Width = mean(Sepal.Width)) %>%
  ggplot(aes(x = Species, y = Sepal.Width, fill = Species)) +
  geom_col() +
  labs(x = "Species",
       y = "Average Sepal Width (cm)",
       fill = "Species",
       title = "Average Sepal Width")+
  theme_scientific(6)+
  scale_fill_mpi()

box_plot <- ggplot(iris, aes(x = Species, y = Sepal.Width, fill = Species)) +
  geom_boxplot() +
  labs(x = "Species",
       y = "Sepal Width (cm)",
       fill = "Species",
       title="Sepal Width Box plot")+
  theme_scientific(6)+
  scale_fill_mpi()

density_plot <-
  iris %>%
  ggplot(aes(x = Sepal.Length, fill = Species)) +
  geom_density(size = 0.1, alpha = 0.8) +
  facet_wrap(.~Species) +
  labs(x = "Sepal Length (cm)",
       y = "Density",
       fill = "Species",
       title = "Sepal Length Density plot")+
  theme_scientific(6)+
  scale_fill_mpi()


plots <-
  list(bar_plot,
       box_plot,
       density_plot,
       scatter_plot)
do.call(gridExtra::grid.arrange,plots)
```

